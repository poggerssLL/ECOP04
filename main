#include <ESP32Servo.h>
const int PWM_FREQ=4000;
const int PWM_CHANNEL=1;
const int PWM_RES=8;
const int DC=32, TP= 18, SW= 34;
Servo Lata;
bool TEMP = false, SWITCH = false;
void setup() {
ledcAttach(DC, PWM_FREQ, PWM_RES);
Lata.attach(34, 0,180);
Serial.begin(9600);
pinMode(TP, INPUT);
pinMode(SW, INPUT_PULLUP);

}

void loop() {
  SWITCH = digitalRead(SW);
  while(SWITCH==true){
    TEMP= digitalRead(TP);
    if(TEMP == true){
      Lata.write(90);
      delay(300);
      ledcWriteTone(DC,PWM_FREQ);
      delay(5000);
      ledcWrite(DC,0);
      Lata.write(0);
      TEMP = digitalRead(TP);

    }
    else{
      TEMP=digitalRead(TP);
      SWITCH = digitalRead(SW);
    }
  }  

}
